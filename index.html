<html>

<head>
    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <link rel="stylesheet" href="reveal.js/css/theme/black.css">

    <title>VTL - Insee</title>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <h2>
                    Expert Group on<br />Shared Tools
                </h2>
                <br />
                <p>
                    October 2020
                </p>
                <br />
                <h2>
                    VTL-Insee
                </h2>
                <br />
                <div>
                    <p><i>Franck Cotton (franck.cotton@insee.fr)</i><br /><i>Nicolas Laval (nicolas.laval@insee.fr)</i></p>
                    <p>
                        <cite>
                            <a href="https://nicolaval.github.io/VTL-Insee/index.html">Slides</a>
                        </cite>
                    </p>
                </div>
            </section>
            <section>
                <section>
                    <h1>
                        Context
                    </h1>
                </section>
                <section>
                    <h2>
                        Insee's strategy
                    </h2>
                    <br />
                    <ul>
                        <li>
                            Align on international standards (even imperfect ones)
                        </li>
                        <li>
                            Active metadata all along the statistical process
                        </li>
                        <li>
                            Embrace open data and open source
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>
                        As a result
                    </h2>
                    <br />
                    <ul>
                        <li>
                            Complete overhaul of our survey data acquisition system
                        </li>
                        <li>
                            Work started recently on the dissemination phase
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>
                        Why VTL?
                    </h2>
                    <br />
                    <ul>
                        <li>
                            After focusing on information models
                        </li>
                        <li>
                            Switching to process models and meta-information
                        </li>
                        <li>
                            Need to represent processes at the logical level
                        </li>
                        <li>
                            VTL strategic choice in the ESS
                        </li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h1>
                        Guidelines
                    </h1>
                </section>
                <section>
                    <h2>
                        Priorities (descending order)
                    </h2>
                    <br />
                    <ul>
                        <li>
                            Edit code (highlighting, suggestion...)
                        </li>
                        <li>
                            Validation from simple to complex
                        </li>
                        <li>
                            Transformations from simple to complex
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>
                        Development principles
                    </h2>
                    <br />
                    <ul>
                        <li>
                            Grammar-based
                        </li>
                        <li>
                            Open-source
                        </li>
                        <li>
                            Driven by use cases
                        </li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h1>
                        Tools
                    </h1>
                </section>
                <section>
                    <h2>
                        Overview
                    </h2>
                    <br />
                    <ul>
                        <li>
                            <a href="https://github.com/InseeFr/VTL-Tools">VTL Tools</a>: JavaScript editor and engine
                        </li>
                        <li>
                            <a href="https://github.com/InseeFr/Trevas">Trevas</a>: Java engine
                        </li>
                        <li>
                            <a href="https://github.com/romaintailhurat/darkr">Darkr</a>: R package around Trevas
                        </li>
                        <li>
                            Utility tools (tree visualizer...)
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>
                        Focus on Trevas (1)
                    </h2>
                    <br />
                    <div>
                        Inspired by <a href="https://github.com/statisticsnorway/java-vtl">Java VTL</a> (SSB):
                    </div>
                    <ul>
                        <li>
                            Java VTL 1.1 engine
                        </li>
                        <li>
                            Focused mainly on transformations
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>
                        Focus on Trevas (2)
                    </h2>
                    <br />
                    <div>
                        Trevas features:
                    </div>
                    <br />
                    <ul>
                        <li>
                            Java VTL 2.0 (latest) engine
                        </li>
                        <li>
                            Java JSR 223 conformance
                        </li>
                        <li>
                            Mapper implementations to bind VTL Dataset
                        </li>
                        <li>
                            Good coverage of validation
                        </li>
                        <li>
                            Work starting on transformations
                        </li>
                        <li>
                            Based on <a href="https://www.antlr.org/">Antlr</a> and <a href="https://spark.apache.org/">Apache Spark</a>
                        </li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h1>
                        Use cases
                    </h1>
                </section>
                <section>
                    <h2>
                        Overview
                    </h2>
                    <br />
                    <ul>
                        <li>
                            Crabe: allocation of survey zones to field agents
                        </li>
                        <li>
                            Data validation for households surveys
                        </li>
                        <li>
                            Control of administrative data (multiple uses)
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>
                        Crabe PoC
                    </h2>
                    <br />
                    <ul>
                        <li>
                            Reusing Eurostat editor in React app to edit VTL script
                        </li>
                        <li>
                            Calling Trevas engine in Java API:
                            <ul>
                                <li>
                                    input: script & data
                                </li>
                                <li>
                                    output: transformed data
                                </li>
                            </ul>
                        </li>
                    </ul>
                </section>
                <section>
                    <img data-src="img/crabe.png" alt="poc-crabe" />
                </section>
            </section>
            <section>
                <section>
                    <h1>
                        Thoughts
                    </h1>
                </section>
                <section>
                    <br />
                    <ul>
                        <li>
                            Eurostat should offer editor as a standard tool for the ESS
                        </li>
                        <li>
                            Make VTL an ESS standard
                        </li>
                        <li>
                            Create an ESS VTL users group
                        </li>
                        <li>
                            Improve standardization process (version control, issues, reviews, etc.)
                        </li>
                        <li>
                            Optimize grammar
                        </li>
                        <li>
                            Agree on a common test suite (compatibility kit...)
                        </li>
                    </ul>
                </section>
            </section>
            <section>
                <h1>
                    Thank you
                </h1>
                <br />
                <br />
                <br />
                <h2>
                    Questions?
                </h2>
            </section>
        </div>
    </div>
    <script src="reveal.js/js/reveal.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            transition: 'slide',
        });
    </script>
</body>

</html>
